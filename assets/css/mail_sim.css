:root{
  --bg:#0f1626;
  --card:#111b2e;
  --ink:#dbe7ff;
  --sub:#a7b2d7;
  --brand1:#6a3df3;
  --brand2:#3f7cf8;
  --accent:#7c4dff;
  --ok:#10b981;
  --warn:#f59e0b;
  --bad:#ef4444;
  --line:rgba(255,255,255,.08);
}

*{box-sizing:border-box}
body.pg-mail{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif;
}

/* top */
.pg-mail-top{
  position:sticky; top:0; z-index:5;
  padding:14px 24px;
  background:linear-gradient(90deg,var(--brand1),var(--brand2));
  display:flex; align-items:center; justify-content:space-between;
}
.pg-mail-top .brand{font-weight:800; font-size:20px}
.pg-mail-top .backToDash{
  color:#fff; text-decoration:none; font-weight:700;
  background:rgba(0,0,0,.18); padding:6px 12px; border-radius:10px;
}
.pg-mail-top .backToDash:hover{background:rgba(0,0,0,.28)}

/* layout */
.mail-wrap{
  max-width:1280px; margin:24px auto; padding:0 16px;
  display:grid; grid-template-columns: 320px 1fr; gap:18px;
}

/* inbox */
.inbox{
  background:var(--card); border-radius:14px; padding:14px;
}
.section-title{margin:0 0 12px 6px; color:#9fb2ff; font-weight:800; letter-spacing:.02em}
.preview{
  width:100%; border:1px solid var(--line); background:#0f1a2b;
  color:var(--ink); border-radius:12px; padding:14px; text-align:left;
  cursor:pointer;
}
.preview .title{font-weight:700}
.preview .sub{color:var(--sub); margin-top:6px}
.preview .time{color:var(--sub); margin-top:10px; font-size:.92rem}

/* thread */
.thread{
  background:var(--card); border-radius:14px; padding:18px;
  border:1px solid var(--line);
}
.thread-title{margin:0 0 8px 0; font-size:28px}
.meta-line{display:flex; align-items:center; gap:10px; color:var(--sub)}
.avatar{width:26px; height:26px; border-radius:50%; background:#5a6dfb}
.from{font-weight:800; color:#fff}
.to{color:#fff}
.right-time{margin-left:auto}

.opening{color:var(--ink);}

/* actions */
.actions{display:flex; gap:16px; margin:12px 0 8px}
.link-btn{background:none; color:#9fb2ff; border:none; padding:0; cursor:pointer; font-weight:700}
.link-btn:hover{text-decoration:underline}

/* reply card */
.reply-card{background:#0c1526; border:1px dashed var(--line); border-radius:12px; padding:14px; margin-top:8px}
.sentence{display:flex; flex-wrap:wrap; align-items:center; gap:8px; color:#c8d6ff}
.answer{
  background:#0f1a2b; border:1px solid var(--line); color:#e5edff;
  padding:8px 10px; border-radius:10px;
}
.reply-actions{display:flex; align-items:center; gap:16px; margin-top:12px}
.primary{
  background:var(--accent); color:#fff; border:none; border-radius:12px;
  padding:10px 18px; font-weight:800; cursor:pointer;
}
.points{color:#9fb2ff}

/* compact feedback */
.feedback{margin-top:12px; padding:12px 14px; border-radius:10px; display:none}
.feedback.ok{display:block; background:#073b22; border:1px solid rgba(16,185,129,.35); color:#ceffeb}
.feedback.warn{display:block; background:#3d2205; border:1px solid rgba(245,158,11,.35); color:#ffe7c2}
.feedback.bad{display:block; background:#3b0e0e; border:1px solid rgba(239,68,68,.35); color:#ffcdcd}

/* email-like feedback panel */
.email-feedback{
  margin-top:16px; background:#0f1325; border:1px solid var(--line);
  border-radius:14px; overflow:hidden;
}
.email-feedback[hidden]{display:none}

.ef-head{
  padding:16px;
  background:#0d1730;
  border-bottom:1px solid var(--line);
}
.ef-user{display:flex; align-items:center; gap:10px; margin-bottom:10px}
.ef-avatar{width:38px; height:38px; border-radius:50%; background:#6a3df3; display:grid; place-items:center; font-weight:800}
.ef-name{font-weight:800}
.ef-role{color:var(--sub); font-size:.92rem}
.ef-title{font-weight:900; font-size:1.2rem; margin-top:2px}
.ef-title #efPoints{color:#7cf1b3}
.ef-sub{color:var(--sub); font-size:.9rem}

.ef-body{padding:16px}
.ef-p{margin:0 0 10px; color:#d7e4ff}
.ef-block{margin-top:12px}
.ef-block-title{color:#bcd0ff; font-weight:800; margin-bottom:6px}
.ef-quote{
  background:#0c1429; border-radius:12px; padding:12px 14px; line-height:1.5;
}
.ef-quote .green{color:#86f7b9; font-weight:800}

/* forwarded card */
.forward-card{
  margin-top:18px; border:1px dashed var(--line); border-radius:12px; padding:14px; background:#0c1526;
}
.fwd-header{display:flex; align-items:center; gap:8px; color:#a9baf0; margin-bottom:10px}
.dot{opacity:.5}

.mail-like{background:#0f1325; border-radius:12px; border:1px solid var(--line)}
.mail-head{display:flex; gap:10px; padding:12px; border-bottom:1px solid var(--line); align-items:center}
.mail-head .logo{width:36px; height:36px; border-radius:8px; background:#e50914; display:grid; place-items:center; font-weight:900}
.fromto{display:flex; flex-direction:column}
.mail-subject{margin:0; padding:12px; font-size:1.2rem}
.mail-body{padding:12px; color:#e4ecff}
.mail-body .details{margin-top:10px; display:flex; gap:8px; flex-wrap:wrap}
.pill{border:1px solid var(--line); background:#0f1a2b; color:#bcd0ff; padding:6px 10px; border-radius:999px; font-size:.9rem}

/* tooltips */
.tt{position:relative; cursor:help}
.tt:hover::after{
  content:attr(data-tt);
  position:absolute; left:0; top:100%; margin-top:6px;
  background:#0f1a2b; color:#cfe0ff; border:1px solid var(--line); border-radius:8px;
  padding:8px 10px; white-space:nowrap; z-index:10;
}

/* === Friendly (card) feedback â€” FIRST DESIGN === */
.friendly-summary {
  background: #0f1325;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  padding: 18px;
  margin-top: 16px;
  color: #dbe7ff;
  box-shadow: 0 2px 12px rgba(0,0,0,.25);
}
.friendly-summary .fs-head {
  display: flex; align-items: center; gap: 12px; margin-bottom: 12px;
}
.friendly-summary .fs-avatar {
  width: 40px; height: 40px; border-radius: 50%;
  display: grid; place-items: center;
  background: #7c4dff; color: #fff; font-weight: 800;
}
.friendly-summary .fs-name { font-weight: 800; color: #fff; line-height: 1.2; }
.friendly-summary .fs-to { color: #a7b2d7; font-weight: 600; margin-left: 6px; }

.friendly-summary .fs-title { font-size: 1.05rem; color: #a7b2d7; }
.friendly-summary .fs-points { color: #10b981; font-weight: 900; }
.friendly-summary .fs-time { color: #93a2c8; font-size: .92rem; }

.friendly-summary .fs-body { display: grid; gap: 12px; margin-top: 6px; }

.friendly-summary .fs-block h4 {
  margin: 0 0 6px 0; font-size: 1rem; color: #cbd5e1; font-weight: 800;
}
.friendly-summary .fs-quote {
  background: #0c1429;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px;
  padding: 12px 14px;
  line-height: 1.55;
  color: #d7e4ff;
}
.friendly-summary .fs-quote .emph {
  color: #86efac; font-weight: 900;
}

/* --- Text/initials avatar (no image needed) --- */
.avatar {
  width: 26px; height: 26px; border-radius: 50%;
  display: grid; place-items: center;
  font-weight: 800; font-size: .85rem;
  color: #0b1020;                 /* text on light bg */
  background: var(--avbg, #9cc5ff);/* gets set by JS */
  user-select: none;
}
.avatar .init { line-height: 1; transform: translateY(1px); }

/* Larger avatar inside feedback panel (optional) */
.ef-avatar {
  width: 38px; height: 38px; border-radius: 50%;
  display: grid; place-items: center;
  font-weight: 900; color: #0b1020; background: var(--avbg, #9cc5ff);
}
