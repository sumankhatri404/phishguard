<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberShield Pro - Advanced Phishing Simulation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        
        .cyber-font {
            font-family: 'JetBrains Mono', monospace;
        }
        
        .terminal-bg {
            background: #0f172a;
            border: 2px solid #6366f1;
            border-radius: 12px;
            box-shadow: 0 0 40px rgba(99, 102, 241, 0.4);
        }
        
        .scan-line {
            position: relative;
            overflow: hidden;
        }
        
        .scan-line::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #6366f1, transparent);
            animation: scan 3s linear infinite;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        .typewriter {
            overflow: hidden;
            border-right: 2px solid #6366f1;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #6366f1; }
        }
        
        .cyber-card {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .cyber-card:hover {
            border-color: #6366f1;
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 5px rgba(99, 102, 241, 0.5); }
            50% { box-shadow: 0 0 25px rgba(99, 102, 241, 0.8), 0 0 40px rgba(139, 92, 246, 0.6); }
            100% { box-shadow: 0 0 5px rgba(99, 102, 241, 0.5); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        .slide-in {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .matrix-bg {
            background: rgba(0, 20, 0, 0.1);
            background-image: 
                linear-gradient(transparent 95%, rgba(0, 255, 0, 0.1) 95%),
                linear-gradient(90deg, transparent 95%, rgba(0, 255, 0, 0.1) 95%);
            background-size: 20px 20px;
        }
        
        .hacker-text {
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
        }
        
        .simulation-interface {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 2px solid #6366f1;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .email-client {
            background: white;
            color: #374151;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .browser-window {
            background: white;
            color: #374151;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .sms-interface {
            background: #dbeafe;
            color: #1e40af;
            border-radius: 16px;
            padding: 20px;
        }
        
        .interactive-highlight {
            background: rgba(255, 255, 0, 0.2);
            border-bottom: 2px dashed #f59e0b;
            cursor: help;
            transition: all 0.3s ease;
        }
        
        .interactive-highlight:hover {
            background: rgba(255, 255, 0, 0.3);
        }
        
        .tooltip {
            position: absolute;
            background: #1f2937;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid #6366f1;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .progress-ring {
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 0.5s ease-in-out;
        }
        
        .cyber-grid {
            background-image: 
                linear-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
    </style>
</head>
<body class="min-h-screen cyber-grid">
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 bg-black z-50 flex items-center justify-center">
        <div class="terminal-bg p-8 max-w-2xl w-full mx-4">
            <div class="text-green-400 cyber-font text-center mb-6">
                <div class="text-2xl mb-2">üõ°Ô∏è CYBER SHIELD PRO INITIALIZING</div>
                <div class="scan-line typewriter">LOADING ADVANCED PHISHING SIMULATION MODULES</div>
            </div>
            <div class="bg-gray-900 rounded p-4">
                <div class="text-blue-400 cyber-font text-sm mb-2">> Initializing neural network analysis...</div>
                <div class="text-purple-400 cyber-font text-sm mb-2">> Loading threat intelligence database...</div>
                <div class="text-green-400 cyber-font text-sm mb-2">> Calibrating security protocols...</div>
                <div class="text-yellow-400 cyber-font text-sm">> Establishing secure connection to mainframe...</div>
            </div>
        </div>
    </div>

    <!-- Main Navigation -->
    <nav class="bg-slate-900/90 backdrop-blur-md border-b border-slate-700 fixed w-full top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <div class="text-cyan-400 cyber-font text-xl flex items-center pulse-glow px-4 py-2 rounded">
                        <i class="fas fa-shield-alt mr-2"></i>
                        CYBER<span class="text-purple-400">SHIELD</span><span class="text-pink-400"> PRO</span>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#simulator" class="text-slate-300 hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-medium cyber-font">TRAINING</a>
                        <a href="#progress" class="text-slate-300 hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-medium cyber-font">PROGRESS</a>
                        <a href="#analytics" class="text-slate-300 hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-medium cyber-font">ANALYTICS</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="pt-28 pb-20 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-cyan-900/20 via-purple-900/20 to-pink-900/20"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 cyber-font">
                    <span class="text-cyan-400">PHISHING</span>
                    <span class="text-purple-400">SIMULATION</span>
                    <span class="text-pink-400">PRO</span>
                </h1>
                <p class="text-xl text-slate-300 max-w-3xl mx-auto mb-8">
                    Advanced cybersecurity training platform with realistic phishing simulation scenarios. 
                    Train like a professional security analyst.
                </p>
                <button onclick="startGameIntro()" class="cyber-card px-8 py-4 text-white cyber-font hover:scale-105 transition-transform group">
                    <i class="fas fa-play mr-2 group-hover:animate-pulse"></i>LAUNCH SIMULATION
                </button>
            </div>
        </div>
    </div>

    <!-- Simulation Area -->
    <section id="simulator" class="py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="game-container" class="cyber-card p-8 text-center fade-in">
                <div class="text-6xl mb-6">üîê</div>
                <h3 class="text-2xl font-semibold text-white mb-4 cyber-font">SECURITY TRAINING READY</h3>
                <p class="text-slate-400 mb-6">Prepare for realistic phishing simulation scenarios</p>
                <button onclick="startGameIntro()" class="bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700 text-white px-8 py-3 rounded cyber-font transition-all">
                    INITIATE TRAINING PROGRAM
                </button>
            </div>
        </div>
    </section>

    <!-- Progress Dashboard -->
    <section id="progress" class="py-20 bg-slate-900/50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 cyber-font text-green-400">TRAINING ANALYTICS</h2>
                <p class="text-xl text-slate-300">Track your cybersecurity proficiency metrics</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="cyber-card p-6 text-center">
                    <div class="text-3xl font-bold text-cyan-400 mb-2" id="score">0</div>
                    <div class="text-slate-400 text-sm">SECURITY SCORE</div>
                </div>
                <div class="cyber-card p-6 text-center">
                    <div class="text-3xl font-bold text-green-400 mb-2" id="correct">0</div>
                    <div class="text-slate-400 text-sm">THREATS DETECTED</div>
                </div>
                <div class="cyber-card p-6 text-center">
                    <div class="text-3xl font-bold text-purple-400 mb-2" id="completed">0</div>
                    <div class="text-slate-400 text-sm">SCENARIOS COMPLETED</div>
                </div>
                <div class="cyber-card p-6 text-center">
                    <div class="text-3xl font-bold text-yellow-400 mb-2" id="accuracy">0%</div>
                    <div class="text-slate-400 text-sm">ACCURACY RATE</div>
                </div>
            </div>

            <div class="cyber-card p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-white cyber-font">TRAINING PROGRESS</h3>
                    <span id="level" class="bg-cyan-600 text-white px-3 py-1 rounded-full text-sm cyber-font">RECRUIT</span>
                </div>
                <div class="w-full bg-slate-700 rounded-full h-3 mb-2">
                    <div id="progress-bar" class="bg-gradient-to-r from-cyan-500 to-purple-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
                <div class="flex justify-between text-sm text-slate-400">
                    <span>BASIC TRAINING</span>
                    <span>EXPERT LEVEL</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Panel -->
    <div id="tools-panel" class="fixed bottom-6 left-6 z-30 cyber-card p-4 hidden">
        <div class="flex flex-col gap-3">
            <button onclick="useTool('analyze')" class="interactive-element p-3 bg-slate-800 rounded text-cyan-400 cyber-font text-sm">
                <i class="fas fa-search mr-2"></i>ANALYZE
            </button>
            <button onclick="useTool('hint')" id="hint-btn" class="interactive-element p-3 bg-slate-800 rounded text-yellow-400 cyber-font text-sm">
                <i class="fas fa-lightbulb mr-2"></i>HINT (<span id="hint-count">3</span>)
            </button>
            <button onclick="useTool('details')" class="interactive-element p-3 bg-slate-800 rounded text-purple-400 cyber-font text-sm">
                <i class="fas fa-info-circle mr-2"></i>DETAILS
            </button>
        </div>
    </div>

    <script>
        // Game State
        const gameState = {
            score: 0,
            correctAnswers: 0,
            scenariosCompleted: 0,
            level: 'Recruit',
            hints: 3,
            currentScenario: null,
            difficulty: 'advanced',
            totalScenarios: 8,
            startTime: null,
            sessionTime: 0
        };

        // Advanced Phishing Scenarios
        const scenarios = [
            {
                type: 'email',
                title: 'Critical Bank Security Alert',
                sender: 'security@bank-of-trust-update.com',
                subject: 'üö® URGENT: Account Compromise Detected - Immediate Action Required',
                content: `Dear Valued Customer,

Our advanced security monitoring system has detected multiple unauthorized access attempts to your banking account from suspicious international locations.

üî¥ CRITICAL SECURITY ALERT: Your account will be temporarily suspended within the next 2 hours to prevent potential financial fraud.

To verify your identity and secure your account, please follow this secure verification process:

üîó SECURE VERIFICATION PORTAL: http://bank-security-protocol-verify.com/authenticate

Required Information for Verification:
- Full Account Number
- Online Banking Password
- Security Question Answers
- Recent Transaction Details

‚ö†Ô∏è IMPORTANT: Failure to complete verification within the specified timeframe will result in permanent account closure and potential financial liability for any fraudulent activities.

This is an automated security message. Please do not reply to this email.

Sincerely,
Bank Security Operations Center
24/7 Fraud Prevention Team`,
                isPhishing: true,
                clues: [
                    'Suspicious sender domain: bank-of-trust-update.com',
                    'Urgent language with multiple warning emojis',
                    'HTTP link instead of HTTPS (insecure)',
                    'Requests for sensitive financial information via email',
                    'Threats of financial liability',
                    'Generic greeting instead of personalized name'
                ],
                difficulty: 'advanced'
            },
            {
                type: 'email',
                title: 'Microsoft Office 365 Security Update',
                sender: 'security@microsoft-com-update.net',
                subject: 'IMPORTANT: Required Security Update for Your Office 365 Account',
                content: `Hello Office 365 User,

We are implementing mandatory security enhancements to protect your Microsoft services. Your account requires immediate update to maintain access.

Please click the link below to apply the critical security update:

üîí SECURE UPDATE: http://microsoft-office365-security-update.com/verify

Required steps:
1. Enter your Office 365 email address
2. Provide your current password
3. Verify account ownership with security questions
4. Review and accept updated security terms

Access to your Office 365 services, including Outlook, Teams, and OneDrive, will be restricted if this update is not completed within 48 hours.

Microsoft Security Team
Protecting your digital workspace`,
                isPhishing: true,
                clues: [
                    'Fake Microsoft domain: microsoft-com-update.net',
                    'Urgent security update requirement',
                    'Requests password via email link',
                    'Threatens service disruption',
                    'Poor grammar and formatting issues'
                ],
                difficulty: 'intermediate'
            },
            {
                type: 'website',
                title: 'Netflix Account Verification',
                url: 'https://netflix-account-security-verify.com',
                content: `
                <div style="background: #e50914; color: white; padding: 25px; text-align: center; border-radius: 8px 8px 0 0;">
                    <h1 style="margin: 0; font-size: 28px;">NETFLIX</h1>
                    <p style="margin: 5px 0 0; font-size: 14px;">Account Security Verification</p>
                </div>
                <div style="padding: 30px; max-width: 450px; margin: 0 auto;">
                    <h2 style="color: #333; margin-bottom: 20px; text-align: center;">Security Update Required</h2>
                    <p style="color: #666; margin-bottom: 25px; text-align: center;">
                        We've detected unusual activity on your account. To protect your subscription, we need to verify your account information.
                    </p>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; color: #374151; margin-bottom: 5px; font-weight: 500;">Email Address</label>
                            <input type="email" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;" placeholder="your@email.com">
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; color: #374151; margin-bottom: 5px; font-weight: 500;">Password</label>
                            <input type="password" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;" placeholder="Your Netflix password">
                        </div>
                        
                        <button style="width: 100%; background: #e50914; color: white; padding: 14px; border: none; border-radius: 6px; font-weight: 600; font-size: 16px; cursor: pointer;">
                            Verify Account
                        </button>
                    </div>
                    
                    <p style="color: #9ca3af; font-size: 12px; text-align: center; margin-top: 20px;">
                        This verification is required to prevent unauthorized access to your account. Failure to complete may result in service interruption.
                    </p>
                </div>
                `,
                isPhishing: true,
                clues: [
                    'Fake Netflix domain: netflix-account-security-verify.com',
                    'Urgent security warning without specific details',
                    'Requests password on unverified page',
                    'Slightly off-brand design elements',
                    'Generic security message'
                ],
                difficulty: 'advanced'
            },
            {
                type: 'sms',
                title: 'Amazon Package Delivery',
                sender: 'Amazon-Delivery',
                content: `Amazon: Your package #AX-28374291 delivery is pending. Confirm your address here: https://amazon-delivery-update.net/confirm?pkg=AX28374291 Reply STOP to unsubscribe`,
                isPhishing: true,
                clues: [
                    'Suspicious shortened URL with unusual domain',
                    'No specific package or order details',
                    'Generic delivery message',
                    'Unsubscribe option typical of spam messages'
                ],
                difficulty: 'intermediate'
            },
            {
                type: 'social',
                title: 'Facebook Security Alert',
                platform: 'Facebook',
                content: `Facebook Security: We detected a new login from unknown device. Verify your account now: http://fb-security-check.com/verify?user=283742`,
                isPhishing: true,
                clues: [
                    'Non-official Facebook domain',
                    'HTTP link (insecure)',
                    'Generic security alert',
                    'No specific device or location details'
                ],
                difficulty: 'basic'
            },
            {
                type: 'email',
                title: 'Google Security Notice',
                sender: 'security@google.com',
                subject: 'Security alert: New sign-in on Windows device',
                content: `Hi User,

We noticed a new sign-in to your Google Account on a Windows device. If this was you, you don't need to do anything. If not, we'll help you secure your account.

Time: May 15, 2024, 2:30:15 PM UTC
Location: San Francisco, CA, USA
Device: Windows Computer

If this wasn't you, please review your account activity at: https://myaccount.google.com/security

Google Security Team`,
                isPhishing: false,
                clues: [
                    'Official Google domain',
                    'Specific details about sign-in attempt',
                    'No urgent action required',
                    'Professional tone and formatting',
                    'Legitimate security review link'
                ],
                difficulty: 'advanced'
            }
        ];

        // Initialize the game
        function startGameIntro() {
            // Reset game state
            gameState.score = 0;
            gameState.correctAnswers = 0;
            gameState.scenariosCompleted = 0;
            gameState.hints = 3;
            gameState.level = 'Recruit';
            gameState.startTime = Date.now();
            
            // Show epic intro sequence
            showIntroSequence();
        }

        function showIntroSequence() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="terminal-bg p-8 text-center">
                    <div class="hacker-text cyber-font text-2xl mb-6 scan-line">
                        INITIALIZING CYBERSECURITY TRAINING PROGRAM
                    </div>
                    
                    <div class="bg-black/50 p-6 rounded-lg mb-6">
                        <div class="text-green-400 cyber-font text-sm mb-4">
                            > Loading advanced phishing detection algorithms...
                        </div>
                        <div class="text-blue-400 cyber-font text-sm mb-4">
                            > Connecting to threat intelligence network...
                        </div>
                        <div class="text-purple-400 cyber-font text-sm mb-4">
                            > Calibrating security assessment protocols...
                        </div>
                        <div class="text-yellow-400 cyber-font text-sm">
                            > Preparing realistic simulation environment...
                        </div>
                    </div>
                    
                    <div class="flex justify-center mb-6">
                        <div class="w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"></div>
                    </div>
                    
                    <button onclick="showMissionBriefing()" class="bg-cyan-600 hover:bg-cyan-700 text-white px-8 py-3 rounded cyber-font transition-colors">
                        ACCELERATE INITIALIZATION
                    </button>
                </div>
            `;
            
            // Auto-proceed to mission briefing after 5 seconds
            setTimeout(showMissionBriefing, 5000);
        }

        function showMissionBriefing() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="cyber-card p-8 fade-in">
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">üéØ</div>
                        <h3 class="text-2xl font-semibold text-white mb-2 cyber-font">MISSION BRIEFING</h3>
                        <p class="text-slate-400">Advanced Phishing Detection Training</p>
                    </div>
                    
                    <div class="bg-slate-800 p-6 rounded-lg mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="text-cyan-400 mb-3 cyber-font">OBJECTIVES:</h4>
                                <ul class="text-slate-300 space-y-2 text-sm">
                                    <li class="flex items-start">
                                        <span class="text-green-400 mr-2">‚úî</span>
                                        <span>Identify sophisticated phishing attempts</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-400 mr-2">‚úî</span>
                                        <span>Analyze email headers and content</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-400 mr-2">‚úî</span>
                                        <span>Detect website spoofing techniques</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-400 mr-2">‚úî</span>
                                        <span>Recognize social engineering patterns</span>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-purple-400 mb-3 cyber-font">TRAINING MODULES:</h4>
                                <ul class="text-slate-300 space-y-2 text-sm">
                                    <li class="flex items-start">
                                        <span class="text-yellow-400 mr-2">üìß</span>
                                        <span>Email Phishing Analysis</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-yellow-400 mr-2">üåê</span>
                                        <span>Website Spoofing Detection</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-yellow-400 mr-2">üì±</span>
                                        <span>SMS Phishing Identification</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-yellow-400 mr-2">üí¨</span>
                                        <span>Social Media Scam Recognition</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="bg-slate-900 p-4 rounded">
                            <h4 class="text-red-400 mb-2 cyber-font">SECURITY PROTOCOLS:</h4>
                            <p class="text-slate-300 text-sm">
                                You will be presented with realistic scenarios. Use your analytical skills to determine if each communication is legitimate or a phishing attempt. Tools are available to assist your analysis.
                            </p>
                        </div>
                    </div>
                    
                    <button onclick="beginSimulation()" class="w-full bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-700 hover:to-cyan-700 text-white py-3 rounded cyber-font transition-colors">
                        <i class="fas fa-play mr-2"></i>BEGIN TRAINING
                    </button>
                </div>
            `;
        }

        function beginSimulation() {
            // Show tools panel
            document.getElementById('tools-panel').classList.remove('hidden');
            updateProgress();
            loadNextScenario();
        }

        function loadNextScenario() {
            if (gameState.scenariosCompleted >= Math.min(6, scenarios.length)) {
                completeTraining();
                return;
            }

            const scenario = scenarios[gameState.scenariosCompleted];
            gameState.currentScenario = scenario;
            
            renderScenario(scenario);
        }

        function renderScenario(scenario) {
            const gameContainer = document.getElementById('game-container');
            let scenarioHTML = '';

            switch(scenario.type) {
                case 'email':
                    scenarioHTML = createEmailScenario(scenario);
                    break;
                case 'website':
                    scenarioHTML = createWebsiteScenario(scenario);
                    break;
                case 'sms':
                    scenarioHTML = createSMSScenario(scenario);
                    break;
                case 'social':
                    scenarioHTML = createSocialScenario(scenario);
                    break;
            }

            gameContainer.innerHTML = scenarioHTML;
            gameContainer.classList.add('fade-in');
        }

        function createEmailScenario(scenario) {
            const highlightedContent = highlightSuspiciousElements(scenario.content, scenario.clues);
            
            return `
                <div class="cyber-card p-6 fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h3 class="text-xl font-semibold text-white cyber-font">EMAIL SECURITY ANALYSIS</h3>
                            <p class="text-slate-400 text-sm">Mission ${gameState.scenariosCompleted + 1} of 6</p>
                        </div>
                        <span class="bg-cyan-600 text-white px-3 py-1 rounded-full text-sm cyber-font">ADVANCED</span>
                    </div>
                    
                    <div class="simulation-interface p-6 mb-6">
                        <div class="email-client p-6">
                            <div class="flex justify-between items-start mb-6">
                                <div>
                                    <div class="text-gray-900 font-semibold interactive-element" onclick="showTooltip('Analyze sender address: ${scenario.sender}')">
                                        From: ${scenario.sender}
                                    </div>
                                    <div class="text-gray-600 text-sm interactive-element" onclick="showTooltip('Subject analysis: ${scenario.subject}')">
                                        Subject: ${scenario.subject}
                                    </div>
                                </div>
                                <div class="text-gray-400 text-sm">Now</div>
                            </div>
                            
                            <div class="text-gray-700 whitespace-pre-line leading-relaxed">
                                ${highlightedContent}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-slate-800 p-6 rounded-lg">
                        <h4 class="text-white mb-4 cyber-font">SECURITY ASSESSMENT:</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button onclick="submitAnalysis(true)" class="bg-red-600 hover:bg-red-700 text-white py-4 rounded cyber-font transition-colors text-lg">
                                <i class="fas fa-skull-crossbones mr-2"></i>PHISHING ATTEMPT
                            </button>
                            <button onclick="submitAnalysis(false)" class="bg-green-600 hover:bg-green-700 text-white py-4 rounded cyber-font transition-colors text-lg">
                                <i class="fas fa-shield-check mr-2"></i>LEGITIMATE
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function createWebsiteScenario(scenario) {
            return `
                <div class="cyber-card p-6 fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h3 class="text-xl font-semibold text-white cyber-font">WEBSITE SECURITY ANALYSIS</h3>
                            <p class="text-slate-400 text-sm">Mission ${gameState.scenariosCompleted + 1} of 6</p>
                        </div>
                        <span class="bg-purple-600 text-white px-3 py-1 rounded-full text-sm cyber-font">EXPERT</span>
                    </div>
                    
                    <div class="simulation-interface p-6 mb-6">
                        <div class="browser-window">
                            <div class="bg-gray-200 p-3 flex items-center">
                                <div class="flex space-x-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                </div>
                                <div class="bg-white ml-3 px-4 py-1 rounded text-gray-600 text-sm flex-1">
                                    ${scenario.url}
                                </div>
                            </div>
                            <div class="p-6">
                                ${scenario.content}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-slate-800 p-6 rounded-lg">
                        <h4 class="text-white mb-4 cyber-font">SECURITY ASSESSMENT:</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button onclick="submitAnalysis(true)" class="bg-red-600 hover:bg-red-700 text-white py-4 rounded cyber-font transition-colors text-lg">
                                <i class="fas fa-skull-crossbones mr-2"></i>PHISHING SITE
                            </button>
                            <button onclick="submitAnalysis(false)" class="bg-green-600 hover:bg-green-700 text-white py-4 rounded cyber-font transition-colors text-lg">
                                <i class="fas fa-shield